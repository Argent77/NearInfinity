<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE update SYSTEM "update_v1.dtd">

<update version="1">
  <general>
    <server>
      <link>https://nearinfinitybrowser.github.io/NearInfinity/update/update.xml</link>
    </server>
    <info>
      <name>Near Infinity on SHS Forums</name>
      <link>http://www.shsforums.net/topic/45358-nearinfinity/</link>
    </info>
    <info>
      <name>Near Infinity on Baldur's Gate Forums</name>
      <link>http://forum.baldursgate.com/discussion/30593/new-versions-of-nearinfinity-available/</link>
    </info>
    <info>
      <name>MacOS-specific app packages (formerly made by AstroBryGuy) are now available from the regular Near Infinity download page</name>
      <link>https://github.com/Argent77/NearInfinity/releases/latest</link>
    </info>
  </general>

  <release type="latest">
    <file>
      <name>NearInfinity.jar</name>
      <url type="zip">https://github.com/Argent77/NearInfinity/releases/download/v2.2-20211218/NearInfinity-20211218.zip</url>
      <version>v2.2-20211218</version>
      <timestamp>2021-12-18T14:21+01:00</timestamp>
      <hash>cb339b813c4bf9fbe5c7a22da83a5184</hash>
      <link>https://github.com/Argent77/NearInfinity/releases/tag/v2.2-20211218</link>
    </file>
    <changelog>
      <entry>Added basic wildcard support  to the "Find resource" feature (magnifier icon above the resource tree): Question mark characters (?) are treated as "match any single character"</entry>
      <entry>Added new Check option: Check for string encoding errors (menu Tools > Check)</entry>
      <entry>Added dialog tree viewer option "Sort states by weight"</entry>
      <entry>BAM Converter: Added basic file/folder drag&amp;drop support to the frames list</entry>
      <entry>BAM Converter: Delete key shortcut can be used to remove selected entries from frame or cycle lists</entry>
      <entry>Item ability flags are now presented based on ITM version</entry>
      <entry>Redesigned credits section in "About Near Infinity" dialog</entry>
      <entry>Improved loading time for games with large override folders</entry>
      <entry>Improved symbolic names detection in decompiled scripts</entry>
      <entry>Removed link to original Near Infinity website (which became unavailable recently) in "About Near Infinity" dialog</entry>
      <entry>Removed unused "Times per day" field from SPL V1 ability structure</entry>
      <entry>Removed useless timing mode 4096 from EFF V1 structures</entry>
      <entry>Updated CRE flags</entry>
      <entry>Updated SPL V1 flags</entry>
      <entry>Updated EFF V2 "Dispel/Resist" and "Parent resource flags"</entry>
      <entry>Updated VVC flags</entry>
      <entry>Updated opcode 1: Add support for negative modifiers in EE games</entry>
      <entry>Updated parameters of opcodes 135, 184 and 232</entry>
      <entry>EEex-specific opcodes are properly handled on non-EEex game installations</entry>
      <entry>Fixed case-sensitivity issues with file paths on Linux systems</entry>
      <entry>Fixed (sometimes) choosing an incorrect script action when decompiling scripts if multiple definitions are specified in ACTION.IDS</entry>
      <entry>Fixed sound references associated with string entries not being available if sound file is located in special override folders (e.g. "sounds")</entry>
      <entry>Fixed deriving INI actor resource name in Area Viewer</entry>
      <entry>Fixed issues with inline editing data in table view of structured resources</entry>
      <entry>Fixed issue with exporting string table as TRA file when dialog.tlk path was located on a different (physical or virtual) filesystem as the game root path</entry>
      <entry>Fixed ARE Entrance orientation field size</entry>
      <entry>Fixed ARE search names not properly updated when loading a new game</entry>
      <entry>Fixed data types referencing symbolic names not properly updated when loading or refreshing the game</entry>
      <entry>Fixed selected string entry not being shown when String Editor is opened for the first time</entry>
      <entry>Fixed incorrect BAM cycle check in creature animation decoder > "character_old" type</entry>
      <entry>Several more minor bugfixes and improvements</entry>
    </changelog>
  </release>

  <release type="stable">
    <file>
      <name>NearInfinity.jar</name>
      <url type="zip">https://github.com/Argent77/NearInfinity/releases/download/v2.1-20200401/NearInfinity-20200401.zip</url>
      <version>v2.1-20200401</version>
      <timestamp>2020-04-01T09:56+01:00</timestamp>
      <hash>a1328d7a317a461b55d40e5b14eb22d1</hash>
      <link>https://github.com/Argent77/NearInfinity/releases/tag/v2.1-20200401</link>
    </file>
    <changelog>
      <entry>Show search names of areas (if available), creatures, items, spells and stores in the resource navigation tree (thanks Mingun) &lt;- can be turned on/off in Options menu</entry>
      <entry>Show overridden resources in bold in the resource navigation tree (thanks Mingun) &lt;- can be turned on/off in Options menu</entry>
      <entry>Moved game-related configuration files (such as baldur.lua, WeiDU.log, ...) from Edit menu to the new "Special" folder in the resource navigation tree</entry>
      <entry>Bookmarks: Use game name by default (thanks Mingun)</entry>
      <entry>Copy or rename game resources: Show a default naming suggestion; allow change of extension for rename operation</entry>
      <entry>Added script compiler option "Autogenerate BCS comments" for scripts, mass exporter and bcs drop zone</entry>
      <entry>Improved enforcing global font size for all UI text (useful for high dpi displays)</entry>
      <entry>BAM Converter -&gt; Splitted BAM Output: Fixed filename suffix generation</entry>
      <entry>Mass Converter: Fixed automatic TIS V1 -&gt; V2 conversion</entry>
      <entry>Reference Searcher: Included type MENU</entry>
      <entry>Improved DLG checker: cover more potential issues (thanks Mingun)</entry>
      <entry>Improved tooltips in Area Viewer: Show parent structure names or search names if available (thanks Mingun)</entry>
      <entry>ARE -&gt; Actor View tab: Show CRE information in separate tab if available</entry>
      <entry>Visual improvements in View tabs for ARE Container, GAM and SPL Ability structures</entry>
      <entry>Show item ability name (from tooltip.2da) in View tab</entry>
      <entry>Show dialog resref of conversable itemsin View tab</entry>
      <entry>IWD2: Fixed misaligned controls and background dimension in CHU viewer</entry>
      <entry>Added Raw tab to DLG resources (thanks Mingun)</entry>
      <entry>Fixed various bugs in View tab of DLG resources (thanks Mingun)</entry>
      <entry>Fixed permanent high CPU/GFX load when states or responses with script blocks are selected</entry>
      <entry>Greatly improved dialog tree viewer (thanks Mingun)</entry>
      <entry>Various improvements to Edit view of structured resources</entry>
      <entry>BCS decompiler: Edge cases, such as functions with empty strings or wildcards, are decoded properly.</entry>
      <entry>BCS decompiler: Order of signature definition in action.ids and trigger.ids have no impact on script decoding anymore</entry>
      <entry>Added support for virtual string references via ENGINEST.2DA</entry>
      <entry>New field in ARE -&gt; Actor structure: Alternate actor name</entry>
      <entry>New field in GAM V2.2: Nightmare mode</entry>
      <entry>Improved CRE field label: Undead level -&gt; Turn undead level</entry>
      <entry>Updated SPL and ITM ability flag labels</entry>
      <entry>Retrieve custom ITM flag labels dynamically from itemflag.ids</entry>
      <entry>Fixed ambiguous description of spellprot stat 0x104</entry>
      <entry>Added default entry to source item slot list in EFF V2</entry>
      <entry>Updated STO flags</entry>
      <entry>Updated opcodes 13, 23, 24, 25, 78, 98, 108, 109, 272, 279, 282, 290</entry>
      <entry>IWD2: Fixed opcode 402</entry>
      <entry>Allow negative numbers in parameter 1 of opcode 233</entry>
      <entry>PST: Added Quest Viewer to GAM resources and Resource Tree -&gt; Special -&gt; quest.ini (thanks Mingun)</entry>
      <entry>PST: Added custom Viewer for Bestiary structure in GAM resources (thanks Mingun)</entry>
      <entry>Fixed priority order of override folders</entry>
      <entry>Fixed adding removables in CHR when section offset is 0</entry>
      <entry>Fixed reading BAM V1 resources with non-standard palette size</entry>
      <entry>Improved BG Tutu detection</entry>
      <entry>Various stability fixes (thanks Mingun)</entry>
      <entry>Internal code refactoring and cleanup (thanks Mingun)</entry>
    </changelog>
  </release>
</update>
